# 微信跳转场景

### 场景1：通过短信，给一个短链，点击短链通过浏览器能不能跳转到微信小程序对应的页面
支持`URL Scheme打开小程序`

| 打开方式 | 使用场景 | 场景值 | 使用方式 | 备注 | 链接 |
| --- | --- | --- | --- | --- | --- |
| URL Scheme | 短信、邮件等微信外页面打开小程序 | 1065 | `location.href = 'weixin://dl/business/?t= *TICKET*'` | TICKET由服务端接口返回（openlink）| [获取URL Scheme](https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fframework%2Fopen-ability%2Furl-scheme.html) |
| wx-open-launch-weapp | 微信内网页 | 1167 | 页面配置`<wx-open-launch-weapp>`标签 | 需配置JS接口域名或云开发静态网站托管绑定的域名下网页 | [wx-open-launch-weapp](https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fdoc%2Foffiaccount%2FOA_Web_Apps%2FWechat_Open_Tag.html) |


iOS系统支持识别 URL Scheme，可在短信等应用场景中直接通过 Scheme 跳转小程序。
Android系统不支持直接识别 URL Scheme，用户无法通过 Scheme 正常打开小程序，开发者需要使**用 H5 页面中转**，再跳转到 Scheme 实现打开小程序。

**规则**：

1. 每个 URL Scheme 或 URL Link 有效期最长 30 天，均不再支持永久有效的链接、不再区分短期有效链接与长期有效链接；
2. 链接生成后，若在微信外打开，用户可以在浏览器页面点击进入小程序。每个独立的链接被用户访问后，仅此用户可以再次访问并打开对应小程序，其他用户无法再次通过相同链接打开该小程序；
3. 单个小程序每天生成链接数（URL Scheme 和 URL Link 总数）上限为 50 万条。

**参考链接**：

[小程序链接生成与使用规则调整公告 | 微信开放社区](https://developers.weixin.qq.com/community/develop/doc/000aeab88a4ea0c5c89d81fde5b801?page=2#comment-list)

[微信外网打开小程序（URL Scheme） - 晴箜万里 - 博客园](https://www.cnblogs.com/jxxiaocao/p/14435181.html)

### 场景2：通过微信公众号，消息推送，点击消息跳转到微信小程序对应的页面

需要配置**服务号订阅通知**，用户**主动订阅**后，公众号配置消息模版和跳转路径可以跳转至对应页面。

